<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="denne-mappen-trengs-ikke-roeres/er-du-synsk.css">
    <title>Er du synsk?</title>
</head>
<body>
    
    <main id="game-main">

        <header>
            <h1>Er du synsk?</h1>
        </header>
    
        <!-- Det er lov å endre HTML og id'er -->
        <section>
            <div id="box1-div">Denne?</div>
            <div id="box2-div">Eller denne?</div>
        </section>
    
        <div id="health-display-div"></div>
    
        <div id="number-of-right-answers-div">
            <p>Antall riktige: 0</p>
        </div>
    
        <div id="number-of-wrong-answers-div">
            <p>Antall feil: 0</p>
        </div>    
    
        <div id="output-div">
            <p>Klikk på en av boksene for å begynne spillet</p>            
        </div>

    </main>
    

    <script>
        
        //HTML-objekter
        const answerBoxes = [
            document.getElementById("box1-div"), 
            document.getElementById("box2-div")
        ];

        const gameMain = document.getElementById("game-main");
        const healthDisplayDiv = document.getElementById("health-display-div");
        const totalRightDiv = document.getElementById("number-of-right-answers-div");
        const totalWrongDiv = document.getElementById("number-of-wrong-answers-div");
        const outputDiv = document.getElementById("output-div");

        // Variabler
        const maxHealth = 5;
        var health = maxHealth;

        var rightAnswer;

        var totalRight = 0;
        var totalWrong = 0;

        // Funksjoner

            // Randomize answer
            // Await an onclick
            // Check answer
            // Check if win condition is met
            // Update health accordingly

        

        function randomizeAnswer() {
            rightAnswer = getRandomNumber(2, 1);
        }

        function checkAnswer( btnId ) {
            var curHealth = health;

            if (rightAnswer === btnId) {
                totalRight++;
                totalRightDiv.innerHTML = `<p>Antall riktige: ${totalRight}</p>`;
            } else {
                totalWrong++;
                totalWrongDiv.innerHTML = `<p>Antall feil: ${totalWrong}</p>`;
                health--;
            }

            if(curHealth != health) {updateHealthDisplay(health);}

            if (totalRight >= 10) {
                clearHTML(gameMain);
            } 
            else if (totalWrong >= 10) {
                alert("Losry!");
            }
            
            randomizeAnswer();

        }

        function updateHealthDisplay( amount ) {
            clearHTML(healthDisplayDiv);

            for (i = 0; i < amount; i++) {
                healthDisplayDiv.innerHTML += `<img src="images/person1.jpg" />`;
            }
        }

        function getRandomNumber( max, startingNum = 0)
        {
            return Math.floor(Math.random() * max + startingNum);
        }

        function clearHTML( el ) 
        {
            el.innerHTML = "";
        }

        function init() {
            randomizeAnswer();
            updateHealthDisplay(health);
        }

        init();

        // Events

        answerBoxes[0].onclick = function() {
            checkAnswer(1);
        }
        answerBoxes[1].onclick = function() {
            checkAnswer(2);
        }

    </script>


</body>
</html>